<!doctype html><html lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><script async src="https://www.googletagmanager.com/gtag/js?id=G-T8HDQQNE6X"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T8HDQQNE6X")</script><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta property="og:type" content="website"><meta property="og:url" content="https://basil08.github.io/post/implement-a-minimax-agent-for-optimal-tic-tac-toe-play/"><meta property="og:title" content="Implement a Minimax Agent for Optimal Tic Tac Toe Play | Basil Labib"><meta property="og:description" content><meta property="og:image" content><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://basil08.github.io/post/implement-a-minimax-agent-for-optimal-tic-tac-toe-play/"><meta property="twitter:title" content="Implement a Minimax Agent for Optimal Tic Tac Toe Play | Basil Labib"><meta property="twitter:description" content><meta property="twitter:image" content><title>Implement a Minimax Agent for Optimal Tic Tac Toe Play</title><link rel=canonical href=https://basil08.github.io/post/implement-a-minimax-agent-for-optimal-tic-tac-toe-play/><link rel=stylesheet href=https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css><link rel=stylesheet href=https://basil08.github.io/css/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css><link rel=stylesheet href=https://basil08.github.io/mycss/custom.css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script></head><div class=callout-banner><p>üö® More than <strong>50,000 children</strong> reported <a href=https://www.unicef.org/press-releases/unimaginable-horrors-more-50000-children-reportedly-killed-or-injured-gaza-strip>murdered or injured</a> in the Gaza strip. Please consider donating to <a href=https://www.pcrf.net/ target=_blank rel="noopener noreferrer">Palestine Children's Relief Fund</a>.</p></div><body lang=en-us class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><div style=display:flex><span class=b>/ &nbsp; </span><a href=https://basil08.github.io/ class="b bb bw1 pb1 no-underline black">Basil Labib</a>
<span class=b>&nbsp; / &nbsp;</span>
<a href=/post class="b bb bw1 pb1 no-underline black">blog</a><div class=js-toggle-wrapper><div class=js-toggle><div class=js-toggle-track><div class=js-toggle-track-check><img src="data:image/png;base64,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" role=presentation style=pointer-events:none width=16 height=16></div><div class=js-toggle-track-x><img src="data:image/png;base64,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" role=presentation style=pointer-events:none width=16 height=16></div></div><div class=js-toggle-thumb></div><input class=js-toggle-screenreader-only type=checkbox aria-label="Switch between Dark and Light mode"></div></div><style>.js-toggle-wrapper{margin:auto}.js-toggle{touch-action:pan-x;display:inline-block;position:relative;cursor:pointer;background-color:initial;border:0;padding:0;-webkit-touch-callout:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.js-toggle-screenreader-only{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.js-toggle-track{width:50px;height:24px;padding:0;border-radius:30px;background-color:#0f1114;transition:all .2s ease}.js-toggle-track-check{position:absolute;width:17px;height:17px;left:5px;top:0;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0;opacity:0;transition:opacity .25s ease}.js-toggle--checked .js-toggle-track-check{opacity:1;transition:opacity .25s ease}.js-toggle-track-x{position:absolute;width:17px;height:17px;right:5px;top:0;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0;opacity:1;transition:opacity .25s ease}.js-toggle--checked .js-toggle-track-x{opacity:0}.js-toggle-thumb{position:absolute;top:1px;left:1px;width:22px;height:22px;border-radius:50%;background-color:#fafafa;box-sizing:border-box;transition:all .5s cubic-bezier(.23,1,.32,1)0ms;transform:translateX(0)}.js-toggle--checked .js-toggle-thumb{transform:translateX(26px);border-color:#19ab27}.js-toggle--focus .js-toggle-thumb{box-shadow:0 0 2px 3px #ffa7c4}.js-toggle:active .js-toggle-thumb{box-shadow:0 0 5px 5px #ffa7c4}</style><script>var body=document.body,switcher=document.getElementsByClassName("js-toggle")[0];switcher.addEventListener("click",function(){this.classList.toggle("js-toggle--checked"),this.classList.add("js-toggle--focus"),this.classList.contains("js-toggle--checked")?(body.classList.add("dark-mode"),localStorage.setItem("darkMode","true")):(body.classList.remove("dark-mode"),setTimeout(function(){localStorage.removeItem("darkMode")},100))}),localStorage.getItem("darkMode")&&(switcher.classList.add("js-toggle--checked"),body.classList.add("dark-mode"))</script></div><section id=main class=mt5><h1 itemprop=name id=title>Implement a Minimax Agent for Optimal Tic Tac Toe Play</h1><span class="f6 gray">October 22, 2025</span><article itemprop=articleBody id=content class="w-90 lh-copy"><blockquote style="border:1px solid #444;background-color:#f9f9f9;padding:1em;padding-left:3em;margin:1em 0;font-style:italic"><p>I hear and I forget. I see and I remember. I do and I understand.</p><p>~Confucius</p></blockquote><p><span style=display:inline-block;font-size:30px;font-weight:600>I implemented</span> a (very) simple agent to optimally play the game of tic tac toe (or noughts and crosses). In this post, I will outline the algorithm I used, how I modelled the problem, and walk you through the code. Feel free to mess around with the code <a href=https://gist.github.com/basil08/bd389bddea4df1d7a46f6a1a264b0e5b>here</a>. It is surprising how the core search algorithm is just around 20 lines of code.</p><h1 id=motivation>Motivation</h1><p>Well, I am self-learning the AI course offered by my university which is taught by an <a href=https://www.cse.iitd.ac.in/~mausam//index.html>exceptional professor</a>. It is rare that I find myself wanting to code every algorithm taught in class let alone show up to class. I guess I am just too choosy when it comes to learning<sup>1</sup>. Anyhow, I decided to implement the minimax algorithm to solve tic-tac-toe because it seems fun, tractable, and a good way to brush up recursion programming. I spent around 1.5 hours coding and an hour debugging the whole thing (with some help from dear ChatGPT).</p><figure><img src=/img/tictactoe/t3gametree.png alt="A typical Tic Tac Toe game tree"><figcaption><p>A typical Tic Tac Toe game tree</p></figcaption></figure><h1 id=tic-tac-toe-for-dummies>Tic Tac Toe for dummies</h1><p>This section is probably preposterous but for the sake of completeness, here is how tic-tac-toe is played. It is a 2-player turn based game where each player places their piece ‚ÄúX‚Äù or ‚ÄúO‚Äù on a 3x3 grid. The first player to make a horizontal, vertical, or diagonal combination wins. It is what is called a deterministic, two-player, zero sum, fully observable game in game theory parlance. These kinds of games can be optimally solved theoretically and can be solved in practice if you just throw enough compute at some naive algorithm. One such naive but foundational algorithm is minimax.</p><h1 id=what-is-the-minimax-algorithm>What is the minimax algorithm?</h1><p>The core abstraction that we will work with is called a <a href=https://en.wikipedia.org/wiki/Game_tree>game tree</a>. It is an abstract object which formalizes all possible ways that a game can proceed. We represent game states as nodes of this tree and represent reachable game states as children based on some valid move. Of course, some states are better than others from the player‚Äôs perspective. How can we formalise this idea? We assign values to each node in the game tree representing how good it is to be in that state. This is convenient because it allows us to apply utility maximization to compute best moves. A little thought will convince you that if you can compute all possible ways a game can be played and pick the best moves based on utility maximization, you have indeed found the optimal game play. Nobody can beat you.</p><p>How do we compute these node values? Assume we are thinking from the computer‚Äôs perspective. We need to output a move from the available set of moves given the game state. If I give you the value of the game state <em>if you played</em> one of the moves, you can tell me the best move (just pick the move with the max value). We recursively construct this tree implicitly in the code by counterfactually reasoning about ‚Äúwhat if? scenarios‚Äù - ‚ÄúWhat if X played at position 3, then O can play at positions 5, 6, 7. But if it plays at 6 then X wins, so it must play at 5 to block X‚Äù and similar arguments.</p><p>This should give you an idea about the adversarial nature of minimax. The values for the computers are <em>exactly the opposite of the values</em> for the human. If we looked at the game trees constructed by the two players from a given game state, they would be <em>exactly same</em> except that all the values would be inversed. The minimax algorithm formalises this notion by maximizing values for its own actions and minimizing values for the opponent‚Äôs actions. We‚Äôll see how it‚Äôs implemented in code later. The big assumption here is that your opponent is also a rational agent trying to maximise its own utility.</p><h1 id=modelling-tictactoe-as-adversarial-search>Modelling TicTacToe as Adversarial search</h1><p>What do we really need to make this agent? Well, we need to represent the game state somehow. This is implemented as a simple 9 element list of strings in Python where ‚Äú-‚Äù represents an empty cell.</p><pre tabindex=0><code>game: list[‚ÄúX‚Äù | ‚ÄúO‚Äù | ‚Äú-‚Äù]
</code></pre><p>We need a function to decide whether we have a winner. This is implemented by the <code>get_winner(game)</code> function which is really just a dumb bunch of if-elses due to the simple and small number of win conditions for TicTacToe.</p><div class=gist-snippet-container><div class=gist-header>tictactoe.py</div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_winner</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#75715e># verticals</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># horizontals</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># diagonals</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span> <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>game[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;X&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;X&#34;</span></span></span></code></pre></div><div class=gist-footer><a href=https://gist.github.com/bd389bddea4df1d7a46f6a1a264b0e5b target=_blank rel="noopener noreferrer">View full gist ‚Üí</a></div></div><p>We need functions which can transition the game state, namely <code>game.make_move(position, piece)</code> and its inverse <code>game.undo_move(position)</code>. Simple and cute functions.</p><div class=gist-snippet-container><div class=gist-header>tictactoe.py</div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>make_move</span>(self, pos, piece):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>game[pos] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;-&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#34;Uh oh, cannot make move, cell already occupied!&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>game[pos] <span style=color:#f92672>=</span> piece
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo_move</span>(self, pos):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>game[pos] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;-&#34;</span>
</span></span><span style=display:flex><span>    </span></span></code></pre></div><div class=gist-footer><a href=https://gist.github.com/bd389bddea4df1d7a46f6a1a264b0e5b target=_blank rel="noopener noreferrer">View full gist ‚Üí</a></div></div><p>We also need a function which will allow us to evaluate how good a board state is. How can we do this? Well, assume if there are no more moves left, what can happen now? It‚Äôs either a draw or we have a winner. Accordingly, we can return 0, 1 (if the computer wins) or -1 (if the human wins). That‚Äôs for the leaves, you say, but what about the non-leaf nodes? Well, we simply recurse on the children on the current node and return the best value (minimizing or maximising based on the level parity which represents whose turn it is).</p><h1 id=implementation-details-and-caveats>Implementation details and caveats</h1><p>I‚Äôll not go through every line of code but I‚Äôll note some interesting caveats and bugs I came across while implementing this. There‚Äôs one obvious limitation in the code. It doesn‚Äôt let you choose your piece. The human is always ‚ÄúX‚Äù and always the first to move. Maybe one of you can raise a PR!</p><p>Initially, I was always checking for the termination condition for the recursion when there were no available moves left which meant at level 9 but I realised that games can also end at the higher level. That‚Äôs when I modified the agent‚Äôs <code>compute_move</code> function to check for wins or losses just after it makes a counterfactual move. If it does, then we can just return and save ourselves from recursing!</p><div class=gist-snippet-container><div class=gist-header>tictactoe.py</div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compute_node_value</span>(self, level):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Assumption, we are at max nodes on odd numbered levels
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        we are on min nodes on even numbered levels
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Output: (val, pos)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        moves <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>agentgame<span style=color:#f92672>.</span>get_available_moves()
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># pdb.set_trace()</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(moves) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>max_depth <span style=color:#f92672>=</span> level
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>nodes_explored <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (self<span style=color:#f92672>.</span>evaluate_board_state(self<span style=color:#f92672>.</span>agentgame), <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#75715e># at the leaf, there are no valid moves as there are no children of leaf</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        values <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>total_branches <span style=color:#f92672>+=</span> len(moves)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> move <span style=color:#f92672>in</span> moves:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>agentgame<span style=color:#f92672>.</span>make_move(move, <span style=color:#e6db74>&#34;O&#34;</span> <span style=color:#66d9ef>if</span> level <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#34;X&#34;</span>)
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>nodes_explored <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>agentgame<span style=color:#f92672>.</span>get_winner() <span style=color:#f92672>in</span> (<span style=color:#e6db74>&#34;X&#34;</span>, <span style=color:#e6db74>&#34;O&#34;</span>):
</span></span><span style=display:flex><span>                values<span style=color:#f92672>.</span>append((self<span style=color:#f92672>.</span>evaluate_board_state(self<span style=color:#f92672>.</span>agentgame), move))   
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                val, _ <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>compute_node_value(level <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)      
</span></span><span style=display:flex><span>                values<span style=color:#f92672>.</span>append((val, move))
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>agentgame<span style=color:#f92672>.</span>undo_move(move)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> level <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>: <span style=color:#75715e># odd valued levels are max levels </span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> max(values, key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>: <span style=color:#75715e># even valued levels are min levels</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> min(values, key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x[<span style=color:#ae81ff>0</span>])
</span></span></code></pre></div><div class=gist-footer><a href=https://gist.github.com/bd389bddea4df1d7a46f6a1a264b0e5b target=_blank rel="noopener noreferrer">View full gist ‚Üí</a></div></div><p>One more subtle bug which ChatGPT helped me identify was the value function was computing the values and moves of the current node but was somehow returning the moves of the children. Well, you can never be too careful in recursion hell.</p><p>Even after reading the code again and again, I still found that the agent was playing stupidly. I suspected that this was due to my stupidity (!) which indeed, it was. I was calling the agent at each game state with an incremental level value which essentially turned it into its own adversary and it was flipping between it‚Äôs own friend and foe. LOL.</p><h1 id=results-and-demo-run>Results and demo run</h1><p>I also felt like collecting some statistics to see how large the search trees were. On my laptop, search was instantaneous and the maximum nodes explored were around 60K at the start of the game. The search tree drastically reduces with each level as the number of valid moves decreases.</p><pre tabindex=0><code>==== AGENT COMPUTATION SUMMARY ====
Making move  0 with value 0
Max depth explored:  9
Nodes explored:  60112
Total branches:  55504
Average branching factor:  0.9233430928932659
===== END AGENT COMPUTATION SUMMARY ====
</code></pre><p>Here‚Äôs a simplified game run. I chose this because the computer actually beat me as I wasn‚Äôt paying attention and it forced me into a game state to guarantee its win. Bewildering stuff!</p><pre tabindex=0><code>
‚ùØ python tictactoe.py
Move number:  1
- - -
- - -
- - -
Enter move&gt; 1
==== AGENT COMPUTATION SUMMARY ====
Making move  0 with value 0
Max depth explored:  9
Nodes explored:  69088
Total branches:  63904
Average branching factor:  0.9249652616952293
===== END AGENT COMPUTATION SUMMARY ====
Move number:  2
O X -
- - -
- - -
Enter move&gt; 2
==== AGENT COMPUTATION SUMMARY ====
Making move  3 with value 1
Max depth explored:  7
Nodes explored:  1336
Total branches:  1228
Average branching factor:  0.9191616766467066
===== END AGENT COMPUTATION SUMMARY ====
Move number:  3
O X X
O - -
- - -
Enter move&gt; 6
==== AGENT COMPUTATION SUMMARY ====
Making move  4 with value 1
Max depth explored:  7
Nodes explored:  44
Total branches:  44
Average branching factor:  1.0
===== END AGENT COMPUTATION SUMMARY ====
Move number:  4
O X X
O O -
X - -
Enter move&gt; 5
==== AGENT COMPUTATION SUMMARY ====
Making move  8 with value 1
Max depth explored:  7
Nodes explored:  3
Total branches:  3
Average branching factor:  1.0
===== END AGENT COMPUTATION SUMMARY ====
Oops, better luck next time!
O X X
O O X
X - O
</code></pre><h1 id=further-improvements>Further improvements</h1><p>There are <em>so many</em> improvements you can try out. TicTacToe with minimax is like the baseline launchpad to explore adversarial games.</p><p>Alpha-beta pruning is an obvious optimization although its advantage cannot be felt with such a small game tree (relative to laptop performance).</p><p>You can try to look at stochastic games and implement expectiminimax. Or try one of the many <a href=https://en.wikipedia.org/wiki/Tic-tac-toe_variants>Tic Tac Toe variants</a>.</p><p>If you‚Äôre feeling ambitious, you can model a completely different game like Poker or Backgammon and implement your own agent.</p><h1 id=references>References</h1><ol><li><a href=https://www.cse.iitd.ac.in/~mausam/courses/col333/autumn2025/>COL333 course Prof Mausam IIT Delhi</a></li><li>AIMA Russell et. al. 4th edition Chapter 6 (Adversarial Search)</li></ol><h1 id=footnotes>Footnotes:</h1><ol><li>Which is a good thing! To actively resist spending time on useless learning is an optimal strategy to acquire most useful knowledge.</li></ol><div style="border-top:1px solid gray;border-bottom:1px solid gray;padding:1rem;padding-top:0"><div><p><span style=font-size:larger;font-weight:700>Basil</span>
| <a href=https://twitter.com/itbwtsh>@itbwtsh</a></p><p style=margin:0% class=dark-gray>Tech, Science, Design, Economics, Finance, and Books.<br>Basil blogs about complex topics in simple words.<br>This blog is his passion project.</p></div></div></article><span class="f6 gray mv3" title="Lastmod:  October 22, 2025. Published at: 2025-10-22."></span><div id=gitalk-container></div><script>const shortlocation=location.pathname.substring(0,49),gitalk=new Gitalk({clientID:"c9601c094023f1222331",clientSecret:"ca206884cb72513054cfcc368082ed873a0104b2",repo:"blog-gitalk",owner:"basil08",admin:["basil08"],id:shortlocation,distractionFreeMode:!1});gitalk.render("gitalk-container"),setTimeout(()=>{if(localStorage.getItem("darkMode")&&localStorage.getItem("darkMode")==="true"){const e=document.getElementsByClassName("gt-comment-body")[0];e&&(e.childNodes[0].style.color="#000")}},1e3)</script></section><footer class=mt4><div class="flex justify-between items-center"><div><p class=f6>&copy; 2025 Basil Labib. All rights reserved.</p></div><div><p class=f6>Built with <a href=https://gohugo.io class="link dim">Hugo</a></p></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".gist-snippet-container");function t(e){const t=e.scrollWidth-e.clientWidth>2;t?e.classList.add("scrollable"):e.classList.remove("scrollable")}setTimeout(()=>{e.forEach(e=>t(e))},300),window.addEventListener("resize",()=>{e.forEach(e=>t(e))});const n=new MutationObserver(()=>{e.forEach(e=>t(e))});e.forEach(e=>n.observe(e,{childList:!0,subtree:!0}))})</script></footer></body></html>